# coding: utf-8import bluetoothimport ble_simple_peripheralimport timeimport structimport machine# 名前の設定（他の人とかぶらないように！）NAME = "MyCar"# BLEの初期化ble = bluetooth.BLE()p = ble_simple_peripheral.BLESimplePeripheral(ble, name=NAME)# ピンの初期化a1 = machine.Pin(18, machine.Pin.OUT)a2 = machine.Pin(19, machine.Pin.OUT)b1 = machine.Pin(16, machine.Pin.OUT)b2 = machine.Pin(17, machine.Pin.OUT)pin_pwm_a = machine.Pin(21, machine.Pin.OUT)pin_pwm_b = machine.Pin(4, machine.Pin.OUT)pwm_a = machine.PWM(pin_pwm_a)pwm_b = machine.PWM(pin_pwm_b)# データを受け取ったときの処理def on_rx(v):  left, right = struct.unpack("hh", v)    if 0 < right:    a1.on()    a2.off()  else:    a1.off()    a2.on()  if 0 < left:    b1.on()    b2.off()  else:    b1.off()    b2.on()    pwm_a.duty(abs(right))  pwm_b.duty(abs(left))    print(left, right)# データを受け取ったときにon_rxが呼ばれるようにするp.on_write(on_rx)# プログラムが終了しないようにするwhile True:  time.sleep_ms(1000)